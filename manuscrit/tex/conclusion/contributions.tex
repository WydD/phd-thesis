\section{Résumé des contributions}\label{sec:conclusion:contributions}
La contribution de cette thèse sur l'observation de systèmes se découpe en trois parties. Premièrement, nous avons proposé une algèbre de gestion des requêtes continues et instantanées sur flux et relations. Deuxièmement, nous avons proposé un intergiciel extensible capable d'évaluer des requêtes exprimées grâce à l'algèbre. Enfin, nous avons présenté l'extension de cet intergiciel pour intégrer les supports persistants dans l'expressivité des requêtes.

\subsection{Langage de requête formel pour une interrogation universelle}
Dans la littérature, les langages de requêtes existants dans le cadre de la gestion de flux de données ont montré des lacunes en terme de clarté sémantique. Deux requêtes exécutés sur deux systèmes peuvent donner des interprétations différentes. Notre approche a été de redéfinir entièrement une algèbre de gestion des flux de données avec comme particularités : le déterminisme et la transparence. Ainsi, l'expression de chaque requête doit être claire et sans possibilité d'interprétation ou de dépendance à l'implémentation.

Le langage algébrique \textit{Astral} présenté dans le chapitre~\ref{chap:contrib:astral} est un dérivé de l'algèbre relationnelle pour les flux de données. Ce qui fait que les connaissances concernant la manipulation mais aussi les équivalences de requêtes peuvent être réutilisées. Comme beaucoup d'autres langages de l'état de l'art, cette algèbre sépare les notions de flux et de relation temporelles. Cette approche permet de clarifier les requêtes en interdisant par exemple les opérations flux$\to$flux sans passer par le domaine relationnel via un opérateur de fenêtre.

Astral possède trois avantages majeurs : des fondations solides, une expressivité accrue et une intégration instantanée-continue. En effet, les définitions fondamentales d'Astral formalisent les notions d'ordres et d'équivalences de requêtes de manière déterministes. Ces fondations ont permis la spécifications d'opérateurs sans ambiguïtés mais aussi elles ont permis de prouver des résultats non-triviaux comme l'asymétrie de la jointure, ou l'équivalence de requête à temps de départs différents (la transpositivité).

L'expressivité d'Astral a permit de rassembler l'ensemble des propositions actuelles en une algèbre intégré. Par exemple, l'ensemble des sémantiques du comportement de l'opérateur de fenêtre sont possibles dans notre modèle. De plus, la formalisation de l'opérateur de manipulation temporelle permettant de sélectionner un état passé d'une relation temporelle a permis l'intégration des requêtes continues et instantanées. Cette intégration est notre pierre angulaire concernant le couplage SGFD-SGBD. La validation de ces points forts a été démontrée dans le chapitre~\ref{chap:validation:expressivite}.

\subsection{Intergiciel d'évaluation de requête extensible}
Nous sommes désormais capable d'écrire toutes requêtes sur des flux ou relations. Toutefois, nous devons avoir un système capable d'évaluer ces expressions Astral. L'intergiciel \textit{Astronef}, présenté en chapitre~\ref{chap:contrib:astronef} permet de mettre en œuvre une telle évaluation. Son architecture interne est dirigée par les architectures à composants orientés services. Cette approche permet de pouvoir ajouter, enlever, reconfigurer des composants à tout moment. Cela rend l'approche extensible en terme d'architecture.

La contribution principale d'Astronef est la définition de ces composants en terme algébrique. En effet, chaque composant opérateur doit définir son équivalent algébrique en fonction de sa configuration. Ainsi, un moteur de règle permet de transformer une expression algébrique en plan d'exécution.

Cette transformation se fait en deux étapes, comme dans les SGBD. Tout d'abord, l'expression est restructurée pour être plus optimale en terme de taille de résultats intermédiaires. Cette restructuration utilise les résultats d'équivalences de requêtes données par les preuves faites avec Astral. Ensuite, un ensemble de règles permettent de sélectionner le meilleur plan de requête correspondant à l'expression en se basant sur la détection de motifs.

Les aspects performances du système de règles ont été expérimentés dans le chapitre~\ref{chap:valid:perfs}. La souplesse de son architecture a été démontré par l'intégration d'opérateurs de gestions de préférences dans le chapitre~\ref{chap:prefs}. Cet opérateur nous permet de gérer des points de vues utilisateurs dans l'observation.

\subsection{Intégration du support persistant à l'intergiciel}
Le langage Astral nous permet d'intégrer les requêtes continues et requêtes instantanées. Ainsi, il est possible d'écrire toute requête exécutable sur un SGFD, mais aussi toute requête exécutable sur un SGBD. Nous avons développé une extension à Astronef capable de coupler un SGBD aux traitements des requêtes continues : \textit{Asteroid}.

Cependant l'intégration des données persistantes dans le cadre de l'observation de système n'est pas anodine. En effet, nous avons remarqué que les données persistantes et les données temps-réels pouvaient avoir des motifs d'évolutions différents : les dynamiques (statique, stable, périodique et imprévisible). Ces dynamiques permettent de conditionner la place et de la données dans le schéma de la base de données ainsi que les traitements associés. Ainsi, nous développons un schéma en deux sections, les données représentant le système (schéma descriptif, contenant des données stables et statiques), et les archives de flux (schéma historique, contenants des données périodiques et imprévisibles).

Ainsi, nous avons développé les notions théoriques élémentaires pour manipuler le support persistant. Nous intégrons maintenant ces notions dans Astronef par le développement de plusieurs composants. Les premiers sont des puits d'écritures capables d'insérer des nouvelles données dans le schéma descriptif (composants dédiés) ou historiques (composants génériques).

Ensuite, nous avons spécifié le comportement d'une source capable de représenter toute requête relationnelle sous forme de relation temporelle Astronef. Cette relation temporelle subit des mises à jours régulières suivant un mode de rafraichissement spécifique (périodique, événementielle, \textit{trigger}). Cette source est configurable et grâce à la formalisation Astral ainsi qu'aux règles Astronef, nous pouvons effectuer le placement du plus grand nombre d'opérateurs sur le SGBD pour en exploiter ses capacités. Un dernier composant a été décrit pour permettre de faire une jointure entre une relation temporelle et un SGBD à l'intérieur de ce dernier. Le choix du meilleur plan a été validé dans la section~\ref{sec:valid:perfs:couplage}.

L'ensemble du système d'observation a été mis en œuvre et expérimenté sur le réseau local domestique afin d'en explorer son expressivité. L'instance de ce système, baptisé \textit{DomVision}, a été détaillé dans le chapitre~\ref{chap:valid:domvision}. Nous démontrons notamment que nous pouvons effectuer des intégrations complexes de données hétérogènes en termes de schéma comme en terme de dynamique. Nous arrivons de plus à former des flux d'alertes capables de comparer une valeur actuelle (temps-réel) avec une valeur moyenne calculée sur l'historique (persistante).