\section{Contributions de cette thèse}\label{sec:conclusion:contributions}
La contribution de cette thèse sur l'observation de systèmes se découpe en trois parties. Premièrement, nous avons proposé \textbf{une algèbre} de gestion des requêtes continues et instantanées sur flux et relations. Deuxièmement, nous avons proposé un \textbf{intergiciel extensible} capable d'évaluer des requêtes exprimées grâce à l'algèbre. Enfin, nous avons présenté l'extension de cet intergiciel pour intégrer les supports persistants dans l'expressivité des requêtes.

\subsection{Langage de requête formel pour une interrogation généralisée}
Dans la littérature, les langages de requêtes existants dans le cadre de la gestion de flux de données ont montré des lacunes en terme de clarté sémantique. Deux requêtes exécutées sur deux systèmes peuvent donner des interprétations différentes. Notre approche a été de redéfinir une algèbre de gestion des flux de données avec comme objectif d'être indépendant du système d'implémentation pour avoir des expressions de requêtes claires.

Le langage algébrique \textit{Astral} présenté dans le chapitre~\ref{chap:contrib:astral} est un dérivé de l'algèbre relationnelle pour les flux de données. Ainsi, les connaissances concernant la manipulation, mais aussi les équivalences de requêtes, du modèle relationnel peuvent être réutilisées. Comme beaucoup d'autres langages de l'état de l'art, cette algèbre sépare les notions de flux et de relation temporelles. Cette approche permet de clarifier les requêtes en interdisant par exemple les opérations flux$\to$flux sans passer par le domaine relationnel via un opérateur de fenêtre.

Astral possède trois avantages : des fondations solides, une expressivité accrue et une intégration de requêtes instantanées et continues. En effet, les définitions fondamentales d'Astral formalisent les notions d'ordre et d'équivalence de requêtes. Ces fondations ont permis la spécification d'opérateurs non ambigus ainsi que la preuve  de résultats non triviaux comme l'asymétrie de la jointure, ou l'équivalence de requêtes à temps de départs différents (la transposabilité).

L'expressivité d'Astral permet de rassembler les propositions actuelles en une algèbre intégrée. Par exemple, une grand quantité de sémantiques d'exécution de l'opérateur de séquence de fenêtres sont possibles dans notre modèle. De plus, la formalisation de l'opérateur de manipulation temporelle permettant de sélectionner un état passé d'une relation temporelle permet l'intégration des requêtes continues et instantanées. Cette intégration est notre pierre angulaire pour pouvoir gérer l'hétérogénéité de dynamisme des données du système. La validation de ces points forts fait l'objet du chapitre~\ref{chap:validation:expressivite}.

\subsection{Intergiciel d'évaluation de requête extensible}
Astral permet d'écrire toutes requêtes sur des flux ou relations. L'intergiciel \textit{Astronef}, présenté en chapitre~\ref{chap:contrib:astronef} met en œuvre une telle évaluation. Sa structure interne se base sur les architectures à composants orientés services. Cette approche permet d'ajouter, enlever, reconfigurer des composants à tout moment. Cela rend l'approche extensible en terme d'architecture.

Astral est un langage indépendant du système d'implémentation et Astronef définit ses composants en terme algébrique. En effet, chaque composant opérateur doit définir son équivalent algébrique en fonction de sa configuration. Ainsi, un moteur de règle permet de transformer une expression algébrique en plan d'exécution.

Cette transformation se fait en deux étapes, comme dans les SGBD. Tout d'abord, l'expression est réécrite afin de réduire la taille des résultats intermédiaires. Cette réécriture utilise les résultats d'équivalences de requêtes données par les preuves faites avec Astral. À partir de la nouvelle expression, un ensemble de règles permet de sélectionner un plan de requête efficace par l'utilisation d'heuristiques (détection de motifs). Le chapitre~\ref{chap:valid:perfs} présente des expérimentations qui valident cette construction de plan de requête.

\subsection{Intégration d'un support persistant à l'intergiciel}
Le langage Astral permet d'intégrer les requêtes continues et requêtes instantanées. Asteroid est une extension à Astronef capable de coupler un SGBD aux traitements des requêtes continues.

L'intégration des données persistantes dans le cadre de l'observation de système est importante. En effet, nous avons remarqué que les données persistantes et les données temps réel ont des motifs d'évolutions différents (statique, stable, périodique et imprévisible). Ces dynamiques permettent de conditionner la place de la donnée dans le schéma de la base de données ainsi que les traitements associés. Ainsi, le schéma est séparé en deux sections, les données représentant le système (schéma descriptif, contenant des données stables et statiques), et les archives de flux (schéma historique, contenants des données périodiques et imprévisibles).

Nous avons intégré ces notions dans Astronef par le développement de plusieurs composants. Les puits de persistances sont capables d'insérer des nouvelles données dans le schéma descriptif (composants dédiés) ou historiques (composants génériques). Nous avons décrit le comportement d'une source capable de représenter toute requête relationnelle sous forme de relation temporelle Astronef. Cette relation temporelle subit des mises à jour régulières suivant un mode de rafraichissement spécifique (périodique, événementiel, \textit{trigger}). Cette source est configurable et grâce à la formalisation Astral ainsi qu'aux règles Astronef, nous pouvons effectuer le placement du plus grand nombre d'opérateurs sur le SGBD pour en exploiter ses capacités. Enfin, un dernier composant permet d'effectuer par un SGBD une jointure entre une relation temporelle et une relation classique. Dans le cadre de requêtes hybrides, le choix du meilleur plan d'exécution a été présenté dans la section~\ref{sec:valid:perfs:couplage}.

L'ensemble du système d'observation a été mis en œuvre et expérimenté sur le réseau local domestique afin d'en explorer son expressivité. L'instance de ce système, baptisé \textit{DomVision}, a été détaillée dans le chapitre~\ref{chap:valid:domvision}. Nous démontrons notamment que nous pouvons effectuer des intégrations de données hétérogènes en termes de schéma comme en terme de dynamique. Nous arrivons de plus à former des requêtes continues capable d'utiliser des données temps réel ainsi que des historiques.

\subsection{Gestion des préférences}
Face au large panel d'utilisateurs, le système va être surveillé par des personnes dont les intérêts peuvent diverger. Afin de pouvoir gérer les points de vue de chacun, nous introduisons un moyen de personnaliser les résultats d'une requête dans le chapitre~\ref{chap:prefs}. Nous intégrons ainsi deux nouveaux opérateurs \textbf{Best} et \textbf{KBest} capables d'effectuer cette tâche.

Chaque utilisateur exprime ses préférences contextuelles dans un profil et ces opérateurs adapteront les résultats à ce profil. Comme notre solution d'observation est capable d'interroger des données venant de flux ou de relations persistantes, alors nous sommes capables de gérer les préférences sur ces deux supports de manière intégrée. Jusqu'à présent les travaux permettant la personnalisation sur les flux étaient limités à des opérateurs particuliers (fenêtres glissantes). Notre approche permet une généralisation de la gestion de préférences sur les données issues d'un système hétérogène et dynamique.

Deux implémentations permettent de calculer ces opérateurs en exploitant ou non l'évaluation incrémentale des données. Enfin, une évaluation de performances permet de montrer les conditions où l'évaluation incrémentale est plus efficace. Cet ajout de fonctionnalité démontre de plus l'extensibilité d'Astronef à intégrer un nouvel opérateur. Nous avons non seulement pu intégrer une nouvelle fonctionnalité, mais aussi nous avons pu donner des règles à l'optimiseur pour construire un plan de requête efficace.
